apply plugin: 'com.android.library'
apply plugin: 'maven'
apply plugin: 'com.github.dcendents.android-maven'

ext {
  minSdkVersion = 16
  compileSdkVersion = 27
  targetSdkVersion = 27

  hamcrestVersion = '1.3'
  junitVersion = '4.12'
  runnerVersion = '0.5'
  supportVersion = '27.0.2'

  supportV4 = "com.android.support:support-v4:$supportVersion"
  supportDesign = "com.android.support:design:$supportVersion"
  supportAnnotations = "com.android.support:support-annotations:$supportVersion"
  supportAppCompat = "com.android.support:appcompat-v7:$supportVersion"
  recyclerviewV7 = "com.android.support:recyclerview-v7:$supportVersion"

  // Test
  junit = "junit:junit:$junitVersion"
  testRunner = "com.android.support.test:runner:$runnerVersion"
  testRules = "com.android.support.test:rules:$runnerVersion"

  // Hamcrest
  hamcrestCore = "org.hamcrest:hamcrest-core:$hamcrestVersion"
  hamcrestLibrary = "org.hamcrest:hamcrest-library:$hamcrestVersion"
  hamcrestIntegration = "org.hamcrest:hamcrest-integration:$hamcrestVersion"

  // Other
  threeTenAbp = 'com.jakewharton.threetenabp:threetenabp:1.1.0'
  butterknife = 'com.jakewharton:butterknife:8.5.1'
  butterknifeCompiler = 'com.jakewharton:butterknife-compiler:8.5.1'

  testDep = [junit,
             hamcrestCore,
             hamcrestLibrary,
             hamcrestIntegration]

  androidTestDep = [junit,
                    testRunner,
                    testRules,
                    hamcrestCore,
                    hamcrestLibrary,
                    hamcrestIntegration]
}

android {
  compileSdkVersion rootProject.ext.compileSdkVersion

  defaultConfig {
    minSdkVersion rootProject.ext.minSdkVersion
    targetSdkVersion rootProject.ext.targetSdkVersion

    // versionCode Integer.parseInt(project.VERSION_CODE)
    // versionName project.VERSION_NAME
    versionCode 18
    versionName "1.5.0"

    vectorDrawables.useSupportLibrary = true
  }

  lintOptions {
    abortOnError false
  }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }
}

dependencies {
  implementation rootProject.ext.threeTenAbp
  implementation rootProject.ext.supportV4
  implementation rootProject.ext.supportAppCompat
  implementation rootProject.ext.supportAnnotations
  implementation 'com.github.bumptech.glide:glide:4.7.1'

  rootProject.ext.testDep.each { testImplementation it }
  rootProject.ext.androidTestDep.each { androidTestImplementation it }
}

